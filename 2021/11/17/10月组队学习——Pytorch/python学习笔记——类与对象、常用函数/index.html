<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="python类与对象"><meta name="keywords" content="python"><meta name="author" content="zhxnlp"><meta name="copyright" content="zhxnlp"><title>python类与对象 | zhxnlpのBlog</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.9.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.9.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.js" defer></script><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"JU6VFRRZVF","apiKey":"ca17f8e20c4dc91dfe1214d03173a8be","indexName":"github-io","hits":{"per_page":10},"languages":{"input_placeholder":"搜索文章","hits_empty":"找不到您查询的内容:${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  hexoVersion: '6.0.0'
} </script><meta name="generator" content="Hexo 6.0.0"><link rel="alternate" href="/atom.xml" title="zhxnlpのBlog" type="application/atom+xml">
</head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81python%E7%9A%84%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.</span> <span class="toc-text">一、python的类与对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">1.1.</span> <span class="toc-text">1.1 基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E4%B8%BB%E8%A6%81%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">1.2.</span> <span class="toc-text">1.2 主要知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-1-%E7%B1%BB%E5%B1%9E%E6%80%A7%E5%92%8C%E5%AE%9E%E4%BE%8B%E5%B1%9E%E6%80%A7%E5%8C%BA%E5%88%AB"><span class="toc-number">1.2.1.</span> <span class="toc-text">1.2.1 类属性和实例属性区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-2-self-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">1.2.2.</span> <span class="toc-text">1.2.2 self 是什么？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-3-Python-%E7%9A%84%E9%AD%94%E6%B3%95%E6%96%B9%E6%B3%95init"><span class="toc-number">1.2.3.</span> <span class="toc-text">1.2.3  Python 的魔法方法init</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-4-%E7%BB%A7%E6%89%BF%E5%92%8C%E8%A6%86%E7%9B%96%EF%BC%88super-init-%EF%BC%89"><span class="toc-number">1.2.4.</span> <span class="toc-text">1.2.4 继承和覆盖（super()._init_()）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-5%E5%85%AC%E6%9C%89%E5%92%8C%E7%A7%81%E6%9C%89"><span class="toc-number">1.2.5.</span> <span class="toc-text">1.2.5公有和私有</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3%E9%AD%94%E6%B3%95%E6%96%B9%E6%B3%95"><span class="toc-number">1.3.</span> <span class="toc-text">1.3魔法方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-1-init-self-%E2%80%A6"><span class="toc-number">1.3.1.</span> <span class="toc-text">1.3.1 init\(self[, …])</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-2-new-cls-%E2%80%A6"><span class="toc-number">1.3.2.</span> <span class="toc-text">1.3.2 new\(cls[, …])</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-3-del-self"><span class="toc-number">1.3.3.</span> <span class="toc-text">1.3.3 del\(self)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-4-%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6%E3%80%81%E5%8F%8D%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6%E3%80%81%E5%A2%9E%E9%87%8F%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6%E3%80%81%E4%B8%80%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.3.4.</span> <span class="toc-text">1.3.4 算术运算符、反算术运算符、增量赋值运算符、一元运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-5-%E5%B1%9E%E6%80%A7%E8%AE%BF%E9%97%AE"><span class="toc-number">1.3.5.</span> <span class="toc-text">1.3.5 属性访问</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-6-%E5%AE%9A%E5%88%B6%E5%BA%8F%E5%88%97len-%E5%92%8Cgetitem"><span class="toc-number">1.3.6.</span> <span class="toc-text">1.3.6 定制序列len()和getitem()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-7-%E8%BF%AD%E4%BB%A3%E5%99%A8iter-%E4%B8%8E-next"><span class="toc-number">1.3.7.</span> <span class="toc-text">1.3.7 迭代器iter\() 与 next\()</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">1.4.</span> <span class="toc-text">1.4 扩展知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-1-%E7%BB%84%E5%90%88"><span class="toc-number">1.4.1.</span> <span class="toc-text">1.4.1 组合</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-2%E7%B1%BB%E7%9A%84%E4%B8%93%E6%9C%89%E6%96%B9%E6%B3%95%E5%92%8C%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0"><span class="toc-number">1.4.2.</span> <span class="toc-text">1.4.2类的专有方法和内置函数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81-%E5%9F%BA%E7%A1%80%E5%87%BD%E6%95%B0"><span class="toc-number">2.</span> <span class="toc-text">二、 基础函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-Python5%E4%B8%AA%E5%86%85%E5%BB%BA%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0%EF%BC%88map%E3%80%81reduce%E3%80%81filter%E3%80%81sorted-sort%E3%80%81zip%EF%BC%89"><span class="toc-number">2.1.</span> <span class="toc-text">2.1 Python5个内建高阶函数（map、reduce、filter、sorted&#x2F;sort、zip）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">2.2.</span> <span class="toc-text">2.2 正则表达式</span></a></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://img-blog.csdnimg.cn/92202ef591744a55a05a1fc7e108f4d6.png"></div><div class="author-info__name text-center">zhxnlp</div><div class="author-info__description text-center">nlp</div><div class="follow-button"><a target="_blank" rel="noopener" href="https://github.com/zhxnlp">Follow Me</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">46</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">37</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">分类</span><span class="pull-right">9</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">Links</div><a class="author-info-links__name text-center" target="_blank" rel="noopener" href="https://relph1119.github.io/my-team-learning">relph</a><a class="author-info-links__name text-center" target="_blank" rel="noopener" href="https://ifwind.github.io/">ifwind</a><a class="author-info-links__name text-center" target="_blank" rel="noopener" href="https://chuxiaoyu.cn/nlp-transformer-summary/">chuxiaoyu</a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://img-blog.csdnimg.cn/ffe1f736be4548dc9101388503288e4d.png)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">zhxnlpのBlog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> 搜索</span></a></span></div><div id="post-info"><div id="post-title">python类与对象</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2021-11-17</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10%E6%9C%88%E7%BB%84%E9%98%9F%E5%AD%A6%E4%B9%A0%EF%BC%9APytorch/">10月组队学习：Pytorch</a><div class="post-meta-wordcount"><span>字数总计: </span><span class="word-count">4.4k</span><span class="post-meta__separator">|</span><span>阅读时长: 17 分钟</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><p>@[toc]</p>
<h2 id="一、python的类与对象"><a href="#一、python的类与对象" class="headerlink" title="一、python的类与对象"></a>一、python的类与对象</h2><p>参考<a target="_blank" rel="noopener" href="https://github.com/datawhalechina/team-learning-program/blob/master/PythonLanguage/13.%20%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1.md">《datawhale——PythonLanguage》</a>、<a target="_blank" rel="noopener" href="https://www.runoob.com/python3/python3-class.html">《Python3 面向对象》</a></p>
<h3 id="1-1-基本概念"><a href="#1-1-基本概念" class="headerlink" title="1.1 基本概念"></a>1.1 基本概念</h3><p>对象 = 属性 + 方法<br>对象是类的实例。换句话说，类主要定义对象的结构，然后我们以类为模板创建对象。类不但包含方法定义，而且还包含所有实例共享的数据</p>
<ul>
<li>类(Class): 用来描述具有相同的属性和方法的对象的集合。它定义了该集合中每个对象所共有的属性和方法。对象是类的实例。</li>
<li>对象：通过类定义的数据结构实例。对象包括两个数据成员（类变量和实例变量）和方法。</li>
<li>方法：类中定义的函数&lt;/font&gt;。</li>
<li>类属性：类里面方法外面定义的变量称为类属性。&lt;/font&gt;类属性所属于类对象并且多个实例对象之间共享同一个类属性，说白了就是类属性所有的通过该类实例化的对象都能共享。</li>
</ul>
<span id="more"></span>
 <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>():</span></span><br><span class="line">    a = <span class="number">0</span>  <span class="comment"># 类属性</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, xx</span>):</span></span><br><span class="line">        <span class="comment"># 使用类属性可以通过 （类名.类属性）调用。</span></span><br><span class="line">        A.a = xx</span><br></pre></td></tr></table></figure>
<ul>
<li><p>局部变量：定义在方法中的变量，只作用于当前实例的类。&lt;/font&gt;</p>
</li>
<li><p>实例属性/变量：在类的声明中，属性是用变量来表示的。 实例属性和具体的某个实例对象有关系，只能在自己的对象里面使用，其他的对象不能直接使用，不同实例对象的实例属性不共享。实例变量用 self 修饰，因为self是谁调用，它的值就属于该对象。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> 类名():</span></span><br><span class="line">    __init__(self)：</span><br><span class="line">        self.name = xx <span class="comment">#实例属性</span></span><br></pre></td></tr></table></figure></li>
<li>数据成员：类变量或者实例变量用于处理类及其实例对象的相关的数据。</li>
<li>方法重写：改写从父类继承的方法，满足子类的需求</li>
<li>继承：派生类（derived class）继承基类（base class）的字段和方法。所以子类自动共享父类之间数据和方法&lt;/font&gt;</li>
<li>多态：不同对象对同一方法响应不同的行动</li>
<li>实例化：创建一个类的实例，类的具体对象。</li>
</ul>
<h3 id="1-2-主要知识点"><a href="#1-2-主要知识点" class="headerlink" title="1.2 主要知识点"></a>1.2 主要知识点</h3><h4 id="1-2-1-类属性和实例属性区别"><a href="#1-2-1-类属性和实例属性区别" class="headerlink" title="1.2.1 类属性和实例属性区别"></a>1.2.1 类属性和实例属性区别</h4><ul>
<li>类属性：类外面，可以通过实例对象.类属性和类名.类属性进行调用。类里面，通过self.类属性和类名.类属性进行调用。</li>
<li>实例属性 ：类外面，可以通过实例对象.实例属性调用。类里面，通过self.实例属性调用。</li>
<li>实例属性就相当于局部变量。出了这个类或者这个类的实例对象，就没有作用了。</li>
<li>类属性就相当于类里面的全局变量，可以和这个类的所有实例对象共享。</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 创建类对象</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    class_attr = <span class="number">100</span>  <span class="comment"># 类属性</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.sl_attr = <span class="number">100</span>  <span class="comment"># 实例属性</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;类对象.类属性的值:&#x27;</span>, Test.class_attr)  <span class="comment"># 调用类属性</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;self.类属性的值&#x27;</span>, self.class_attr)  <span class="comment"># 相当于把类属性 变成实例属性</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;self.实例属性的值&#x27;</span>, self.sl_attr)  <span class="comment"># 调用实例属性</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a = Test()</span><br><span class="line">a.func()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 类对象.类属性的值: 100</span></span><br><span class="line"><span class="comment"># self.类属性的值 100</span></span><br><span class="line"><span class="comment"># self.实例属性的值 100</span></span><br><span class="line"></span><br><span class="line">b = Test()</span><br><span class="line">b.func()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 类对象.类属性的值: 100</span></span><br><span class="line"><span class="comment"># self.类属性的值 100</span></span><br><span class="line"><span class="comment"># self.实例属性的值 100</span></span><br><span class="line"></span><br><span class="line">a.class_attr = <span class="number">200</span></span><br><span class="line">a.sl_attr = <span class="number">200</span></span><br><span class="line">a.func()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 类对象.类属性的值: 100</span></span><br><span class="line"><span class="comment"># self.类属性的值 200</span></span><br><span class="line"><span class="comment"># self.实例属性的值 200</span></span><br><span class="line"></span><br><span class="line">b.func()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 类对象.类属性的值: 100</span></span><br><span class="line"><span class="comment"># self.类属性的值 100</span></span><br><span class="line"><span class="comment"># self.实例属性的值 100</span></span><br><span class="line"></span><br><span class="line">Test.class_attr = <span class="number">300</span></span><br><span class="line">a.func()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 类对象.类属性的值: 300</span></span><br><span class="line"><span class="comment"># self.类属性的值 200</span></span><br><span class="line"><span class="comment"># self.实例属性的值 200</span></span><br><span class="line"></span><br><span class="line">b.func()</span><br><span class="line"><span class="comment"># 类对象.类属性的值: 300</span></span><br><span class="line"><span class="comment"># self.类属性的值 300</span></span><br><span class="line"><span class="comment"># self.实例属性的值 100</span></span><br></pre></td></tr></table></figure>
<p>注意：属性与方法名相同，属性会覆盖方法。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">x</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;x_man&#x27;</span>)</span><br><span class="line"></span><br><span class="line">aa = A()</span><br><span class="line">aa.x()  <span class="comment"># x_man</span></span><br><span class="line">aa.x = <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(aa.x)  <span class="comment"># 1</span></span><br><span class="line">aa.x()</span><br><span class="line"><span class="comment"># TypeError: &#x27;int&#x27; object is not callable</span></span><br></pre></td></tr></table></figure>
<h4 id="1-2-2-self-是什么？"><a href="#1-2-2-self-是什么？" class="headerlink" title="1.2.2 self 是什么？"></a>1.2.2 self 是什么？</h4><p>Python 的 self 相当于 C++ 的 this 指针。<br>在类的内部，使用 def 关键字来定义一个方法，与一般函数定义不同，类方法必须包含参数 self, 且为第一个参数，self 代表的是类的实例。&lt;/font&gt;（对应于该实例，即该对象本身）在调用方法时，我们无需明确提供与参数 self 相对应的参数</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ball</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setName</span>(<span class="params">self, name</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">kick</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;我叫%s,该死的，谁踢我...&quot;</span> % self.name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a = Ball()</span><br><span class="line">a.setName(<span class="string">&quot;球A&quot;</span>)</span><br><span class="line">b = Ball()</span><br><span class="line">b.setName(<span class="string">&quot;球B&quot;</span>)</span><br><span class="line">a.kick()</span><br><span class="line"><span class="comment"># 我叫球A,该死的，谁踢我...</span></span><br><span class="line">b.kick()</span><br><span class="line"><span class="comment"># 我叫球B,该死的，谁踢我...</span></span><br></pre></td></tr></table></figure>
<h4 id="1-2-3-Python-的魔法方法init"><a href="#1-2-3-Python-的魔法方法init" class="headerlink" title="1.2.3  Python 的魔法方法init"></a>1.2.3  Python 的魔法方法<strong>init</strong></h4><p>类有一个名为<strong>init</strong>(self[, param1, param2…])的魔法方法，该方法在类实例化时会自动调用。&lt;/font&gt;</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ball</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">kick</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;我叫%s,该死的，谁踢我...&quot;</span> % self.name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a = Ball(<span class="string">&quot;球A&quot;</span>)</span><br><span class="line">b = Ball(<span class="string">&quot;球B&quot;</span>)</span><br><span class="line">a.kick()</span><br><span class="line"><span class="comment"># 我叫球A,该死的，谁踢我...</span></span><br><span class="line">b.kick()</span><br><span class="line"><span class="comment"># 我叫球B,该死的，谁踢我...</span></span><br></pre></td></tr></table></figure>
<h4 id="1-2-4-继承和覆盖（super-init-）"><a href="#1-2-4-继承和覆盖（super-init-）" class="headerlink" title="1.2.4 继承和覆盖（super()._init_()）"></a>1.2.4 继承和覆盖（super()._<em>init_</em>()）</h4><p>派生类（derived class）继承基类（base class）的字段和方法。如果子类中定义与父类同名的方法或属性，则会自动覆盖父类对应的方法或属性。多继承时基类方法名相同，子类没有指定时，使用靠前的父类的方法。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 类定义</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">people</span>:</span></span><br><span class="line">    <span class="comment"># 定义基本属性</span></span><br><span class="line">    name = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    age = <span class="number">0</span></span><br><span class="line">    <span class="comment"># 定义私有属性,私有属性在类外部无法直接进行访问</span></span><br><span class="line">    __weight = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 定义构造方法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, n, a, w</span>):</span></span><br><span class="line">        self.name = n</span><br><span class="line">        self.age = a</span><br><span class="line">        self.__weight = w</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">speak</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;%s 说: 我 %d 岁。&quot;</span> % (self.name, self.age))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 单继承示例</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">student</span>(<span class="params">people</span>):</span></span><br><span class="line">    grade = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, n, a, w, g</span>):</span></span><br><span class="line">        <span class="comment"># 调用父类的构函数</span></span><br><span class="line">        people.__init__(self, n, a, w)</span><br><span class="line">        <span class="comment">#super().__init__()也可以，表示继承父类的init操作</span></span><br><span class="line">        self.grade = g</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 覆写父类的方法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">speak</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;%s 说: 我 %d 岁了，我在读 %d 年级&quot;</span> % (self.name, self.age, self.grade))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">s = student(<span class="string">&#x27;小马的程序人生&#x27;</span>, <span class="number">10</span>, <span class="number">60</span>, <span class="number">3</span>)</span><br><span class="line">s.speak()</span><br><span class="line"><span class="comment"># 小马的程序人生 说: 我 10 岁了，我在读 3 年级</span></span><br></pre></td></tr></table></figure>
<p>注意：如果上面的程序去掉：people.<strong>init</strong>(self, n, a, w)&lt;/font&gt;，则输出： 说: 我 0 岁了，我在读 3 年级，因为子类的构造方法把父类的构造方法覆盖了。如果继承的方法中含有父类init的属性但是没有在子类中实现，会报错。此时可以</p>
<ul>
<li>调用未绑定的父类方法base class.<strong>init</strong>(self,*kargs)</li>
<li>使用super函数super()._<em>init_</em>()</li>
</ul>
<p>==多继承时需要注意圆括号中父类的顺序，若是父类中有相同的方法名，而在子类使用时未指定，Python 从左至右搜索，调用靠前的类的此方法。==<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 另一个类，多重继承之前的准备</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Speaker</span>:</span></span><br><span class="line">    topic = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    name = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, n, t</span>):</span></span><br><span class="line">        self.name = n</span><br><span class="line">        self.topic = t</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">speak</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;我叫 %s，我是一个演说家，我演讲的主题是 %s&quot;</span> % (self.name, self.topic))</span><br></pre></td></tr></table></figure></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 多重继承</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sample01</span>(<span class="params">Speaker, Student</span>):</span></span><br><span class="line">    a = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, n, a, w, g, t</span>):</span></span><br><span class="line">        Student.__init__(self, n, a, w, g)</span><br><span class="line">        Speaker.__init__(self, n, t)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 方法名同，默认调用的是在括号中排前地父类的方法</span></span><br><span class="line">test = Sample01(<span class="string">&quot;Tim&quot;</span>, <span class="number">25</span>, <span class="number">80</span>, <span class="number">4</span>, <span class="string">&quot;Python&quot;</span>)</span><br><span class="line">test.speak()  </span><br><span class="line"><span class="comment"># 我叫 Tim，我是一个演说家，我演讲的主题是 Python</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sample02</span>(<span class="params">Student, Speaker</span>):</span></span><br><span class="line">    a = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, n, a, w, g, t</span>):</span></span><br><span class="line">        Student.__init__(self, n, a, w, g)</span><br><span class="line">        Speaker.__init__(self, n, t)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 方法名同，默认调用的是在括号中排前地父类的方法</span></span><br><span class="line">test = Sample02(<span class="string">&quot;Tim&quot;</span>, <span class="number">25</span>, <span class="number">80</span>, <span class="number">4</span>, <span class="string">&quot;Python&quot;</span>)</span><br><span class="line">test.speak()  </span><br><span class="line"><span class="comment"># Tim 说: 我 25 岁了，我在读 4 年级</span></span><br></pre></td></tr></table></figure>
<h4 id="1-2-5公有和私有"><a href="#1-2-5公有和私有" class="headerlink" title="1.2.5公有和私有"></a>1.2.5公有和私有</h4><p>变量名或函数名前加上“__”两个下划线，那么这个函数或变量就会为私有的了。</p>
<ul>
<li>私有属性在类外部无法直接进行访问。</li>
<li>私有方法只能在类的内部调用 ，不能在类的外部调用<br>【例子】类的私有属性实例<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">JustCounter</span>:</span></span><br><span class="line">    __secretCount = <span class="number">0</span>  <span class="comment"># 私有变量</span></span><br><span class="line">    publicCount = <span class="number">0</span>  <span class="comment"># 公开变量</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">count</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.__secretCount += <span class="number">1</span></span><br><span class="line">        self.publicCount += <span class="number">1</span></span><br><span class="line">        <span class="built_in">print</span>(self.__secretCount)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">counter = JustCounter()</span><br><span class="line">counter.count()  <span class="comment"># 1</span></span><br><span class="line">counter.count()  <span class="comment"># 2</span></span><br><span class="line"><span class="built_in">print</span>(counter.publicCount)  <span class="comment"># 2</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(counter._JustCounter__secretCount)  <span class="comment"># 2 Python的私有为伪私有</span></span><br><span class="line"><span class="built_in">print</span>(counter.__secretCount)  <span class="comment">## 报错，实例不能访问私有变量</span></span><br><span class="line"><span class="comment"># AttributeError: &#x27;JustCounter&#x27; object has no attribute &#x27;__secretCount&#x27;</span></span><br></pre></td></tr></table></figure>
【例子】类的私有方法实例<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Site</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, url</span>):</span></span><br><span class="line">        self.name = name  <span class="comment"># public</span></span><br><span class="line">        self.__url = url  <span class="comment"># private</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">who</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;name  : &#x27;</span>, self.name)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;url : &#x27;</span>, self.__url)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__foo</span>(<span class="params">self</span>):</span>  <span class="comment"># 私有方法</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;这是私有方法&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">foo</span>(<span class="params">self</span>):</span>  <span class="comment"># 公共方法</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;这是公共方法&#x27;</span>)</span><br><span class="line">        self.__foo()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">x = Site(<span class="string">&#x27;老马的程序人生&#x27;</span>, <span class="string">&#x27;https://blog.csdn.net/LSGO_MYP&#x27;</span>)</span><br><span class="line">x.who()</span><br><span class="line"><span class="comment"># name  :  老马的程序人生</span></span><br><span class="line"><span class="comment"># url :  https://blog.csdn.net/LSGO_MYP</span></span><br><span class="line"></span><br><span class="line">x.foo()</span><br><span class="line"><span class="comment"># 这是公共方法</span></span><br><span class="line"><span class="comment"># 这是私有方法</span></span><br><span class="line">x.__foo()<span class="comment">#报错，外部不能使用私有方法</span></span><br><span class="line"><span class="comment"># AttributeError: &#x27;Site&#x27; object has no attribute &#x27;__foo&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="1-3魔法方法"><a href="#1-3魔法方法" class="headerlink" title="1.3魔法方法"></a>1.3魔法方法</h3>魔法方法总是被双下划线包围，例如<strong>init</strong>。魔法方法的“魔力”体现在它们总能够在适当的时候被自动调用。<br>魔法方法的第一个参数应为cls（类方法） 或者self（实例方法）：</li>
<li>cls：代表一个类的名称</li>
<li>self：代表一个实例对象的名称</li>
</ul>
<h4 id="1-3-1-init-self-…"><a href="#1-3-1-init-self-…" class="headerlink" title="1.3.1 init\(self[, …])"></a>1.3.1 <strong>init\</strong>(self[, …])</h4><p><strong>init\</strong>(self[, …]) :构造器，当一个实例被创建的时候调用的初始化方法</p>
<h4 id="1-3-2-new-cls-…"><a href="#1-3-2-new-cls-…" class="headerlink" title="1.3.2 new\(cls[, …])"></a>1.3.2 <strong>new\</strong>(cls[, …])</h4><p><strong>new</strong>方法主要是当你继承一些不可变的 class 时（比如int, str, tuple）， 提供给你一个自定义这些类的实例化过程的途径。<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">在一个对象实例化的时候所调用的第一个方法，在调用__init__初始化前，先调用__new__。</span><br><span class="line">__new__至少要有一个参数cls，代表要实例化的类，此参数在实例化时由 Python 解释器自动提供，后面的参数直接传递给__init__。</span><br><span class="line">__new__对当前类进行了实例化，并将实例返回，传给__init__的self。</span><br><span class="line">但是，执行了__new__，并不一定会进入__init__，只有__new__返回了当前类cls的实例，当前类的__init__才会进入。</span><br></pre></td></tr></table></figure></p>
<h4 id="1-3-3-del-self"><a href="#1-3-3-del-self" class="headerlink" title="1.3.3 del\(self)"></a>1.3.3 <strong>del\</strong>(self)</h4><ul>
<li>析构器，当一个对象将要被系统回收之时调用的方法。</li>
</ul>
<p>大部分时候，Python 的 ARC(自动引用计数，用来回收对象所占用的空间） 都能准确、高效地回收系统中的每个对象。但如果系统中出现循环引用的情况，比如对象 a 持有一个实例变量引用对象 b，而对象 b 又持有一个实例变量引用对象 a，此时两个对象的引用计数都是 1，而实际上程序已经不再有变量引用它们，系统应该回收它们，此时 Python 的垃圾回收器就可能没那么快，要等专门的循环垃圾回收器（Cyclic Garbage Collector）来检测并回收这种引用循环。</p>
<h4 id="1-3-4-算术运算符、反算术运算符、增量赋值运算符、一元运算符"><a href="#1-3-4-算术运算符、反算术运算符、增量赋值运算符、一元运算符" class="headerlink" title="1.3.4 算术运算符、反算术运算符、增量赋值运算符、一元运算符"></a>1.3.4 算术运算符、反算术运算符、增量赋值运算符、一元运算符</h4><p>例如以下运算符。详见<a target="_blank" rel="noopener" href="https://github.com/datawhalechina/team-learning-program/blob/master/PythonLanguage/14.%20%E9%AD%94%E6%B3%95%E6%96%B9%E6%B3%95.md">《PythonLanguage/14. 魔法方法.md》</a><br>常见+- */和+= -=等等<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">__add__(self, other)定义加法的行为：+</span><br><span class="line">__sub__(self, other)定义减法的行为：-</span><br><span class="line"></span><br><span class="line">一元运算符</span><br><span class="line">__neg__(self)定义正号的行为：+x</span><br><span class="line">__pos__(self)定义负号的行为：-x</span><br><span class="line">__abs__(self)定义当被<span class="built_in">abs</span>()调用时的行为</span><br><span class="line">__invert__(self)定义按位求反的行为：~x</span><br></pre></td></tr></table></figure></p>
<h4 id="1-3-5-属性访问"><a href="#1-3-5-属性访问" class="headerlink" title="1.3.5 属性访问"></a>1.3.5 属性访问</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">__getattr__(self, name): 定义当用户试图获取一个不存在的属性时的行为。</span><br><span class="line">__getattribute__(self, name)：定义当该类的属性被访问时的行为（先调用该方法，查看是否存在该属性，若不存在，接着去调用__getattr__）。</span><br><span class="line">__setattr__(self, name, value)：定义当一个属性被设置时的行为。</span><br><span class="line">__delattr__(self, name)：定义当一个属性被删除时的行为。</span><br></pre></td></tr></table></figure>
<h4 id="1-3-6-定制序列len-和getitem"><a href="#1-3-6-定制序列len-和getitem" class="headerlink" title="1.3.6 定制序列len()和getitem()"></a>1.3.6 定制序列<strong>len</strong>()和<strong>getitem</strong>()</h4><p>容器类型的协议</p>
<ul>
<li>如果说你希望定制的容器是不可变的话，你只需要定义<strong>len</strong>()和<strong>getitem</strong>()方法。</li>
<li>如果你希望定制的容器是可变的话，除了<strong>len</strong>()和<strong>getitem</strong>()方法，你还需要定义<strong>setitem</strong>()和<strong>delitem</strong>()两个方法。</li>
<li><strong>len\</strong>(self)定义当被len()调用时的行为（返回容器中元素的个数）。</li>
<li><strong>getitem\</strong>(self, key)定义获取容器中元素的行为，相当于self[key]。</li>
<li><strong>setitem\</strong>(self, key, value)定义设置容器中指定元素的行为，相当于self[key] = value。</li>
<li><strong>delitem\</strong>(self, key)定义删除容器中指定元素的行为，相当于del self[key]。</li>
</ul>
<p>【例子】编写一个不可改变的自定义列表，要求记录列表中每个元素被访问的次数。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CountList</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, *args</span>):</span></span><br><span class="line">        self.values = [x <span class="keyword">for</span> x <span class="keyword">in</span> args]</span><br><span class="line">        self.count = &#123;&#125;.fromkeys(<span class="built_in">range</span>(<span class="built_in">len</span>(self.values)), <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__len__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(self.values)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getitem__</span>(<span class="params">self, item</span>):</span></span><br><span class="line">        self.count[item] += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> self.values[item]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">c1 = CountList(<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>)</span><br><span class="line">c2 = CountList(<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(c1[<span class="number">1</span>])  <span class="comment"># 3</span></span><br><span class="line"><span class="built_in">print</span>(c2[<span class="number">2</span>])  <span class="comment"># 6</span></span><br><span class="line"><span class="built_in">print</span>(c1[<span class="number">1</span>] + c2[<span class="number">1</span>])  <span class="comment"># 7</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(c1.count)</span><br><span class="line"><span class="comment"># &#123;0: 0, 1: 2, 2: 0, 3: 0, 4: 0&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(c2.count)</span><br><span class="line"><span class="comment"># &#123;0: 0, 1: 1, 2: 1, 3: 0, 4: 0&#125;</span></span><br></pre></td></tr></table></figure>
<p>【例子】编写一个可改变的自定义列表，要求记录列表中每个元素被访问的次数。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CountList</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, *args</span>):</span></span><br><span class="line">        self.values = [x <span class="keyword">for</span> x <span class="keyword">in</span> args]</span><br><span class="line">        self.count = &#123;&#125;.fromkeys(<span class="built_in">range</span>(<span class="built_in">len</span>(self.values)), <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__len__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(self.values)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getitem__</span>(<span class="params">self, item</span>):</span></span><br><span class="line">        self.count[item] += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> self.values[item]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__setitem__</span>(<span class="params">self, key, value</span>):</span></span><br><span class="line">        self.values[key] = value</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__delitem__</span>(<span class="params">self, key</span>):</span></span><br><span class="line">        <span class="keyword">del</span> self.values[key]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(self.values)):</span><br><span class="line">            <span class="keyword">if</span> i &gt;= key:</span><br><span class="line">                self.count[i] = self.count[i + <span class="number">1</span>]</span><br><span class="line">        self.count.pop(<span class="built_in">len</span>(self.values))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">c1 = CountList(<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>)</span><br><span class="line">c2 = CountList(<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(c1[<span class="number">1</span>])  <span class="comment"># 3</span></span><br><span class="line"><span class="built_in">print</span>(c2[<span class="number">2</span>])  <span class="comment"># 6</span></span><br><span class="line">c2[<span class="number">2</span>] = <span class="number">12</span></span><br><span class="line"><span class="built_in">print</span>(c1[<span class="number">1</span>] + c2[<span class="number">2</span>])  <span class="comment"># 15</span></span><br><span class="line"><span class="built_in">print</span>(c1.count)</span><br><span class="line"><span class="comment"># &#123;0: 0, 1: 2, 2: 0, 3: 0, 4: 0&#125;</span></span><br><span class="line"><span class="built_in">print</span>(c2.count)</span><br><span class="line"><span class="comment"># &#123;0: 0, 1: 0, 2: 2, 3: 0, 4: 0&#125;</span></span><br><span class="line"><span class="keyword">del</span> c1[<span class="number">1</span>]</span><br><span class="line"><span class="built_in">print</span>(c1.count)</span><br><span class="line"><span class="comment"># &#123;0: 0, 1: 0, 2: 0, 3: 0&#125;</span></span><br></pre></td></tr></table></figure>
<h4 id="1-3-7-迭代器iter-与-next"><a href="#1-3-7-迭代器iter-与-next" class="headerlink" title="1.3.7 迭代器iter\() 与 next\()"></a>1.3.7 迭代器<strong>iter\</strong>() 与 <strong>next\</strong>()</h4><ul>
<li>迭代是 Python 最强大的功能之一，是访问集合元素的一种方式。字符串，列表或元组对象都可用于创建迭代器。</li>
<li>迭代器是一个可以记住遍历的位置的对象。迭代器对象从集合的第一个元素开始访问，直到所有的元素被访问完结束。迭代器只能往前不会后退。<ul>
<li>迭代器有两个基本的方法：iter() 和 next()。</li>
</ul>
</li>
</ul>
<p>下面两个例子返回的结果是一样的<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">string = <span class="string">&#x27;lsgogroup&#x27;</span></span><br><span class="line"><span class="keyword">for</span> c <span class="keyword">in</span> string:</span><br><span class="line">    <span class="built_in">print</span>(c)</span><br><span class="line"><span class="keyword">for</span> c <span class="keyword">in</span> <span class="built_in">iter</span>(string):</span><br><span class="line">    <span class="built_in">print</span>(c)</span><br></pre></td></tr></table></figure></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">links = &#123;<span class="string">&#x27;B&#x27;</span>: <span class="string">&#x27;百度&#x27;</span>, <span class="string">&#x27;A&#x27;</span>: <span class="string">&#x27;阿里&#x27;</span>, <span class="string">&#x27;T&#x27;</span>: <span class="string">&#x27;腾讯&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">for</span> each <span class="keyword">in</span> links:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;%s -&gt; %s&#x27;</span> % (each, links[each]))</span><br><span class="line">    </span><br><span class="line"><span class="keyword">for</span> each <span class="keyword">in</span> <span class="built_in">iter</span>(links):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;%s -&gt; %s&#x27;</span> % (each, links[each]))</span><br></pre></td></tr></table></figure>
<ul>
<li>iter(object) 函数用来生成迭代器。</li>
<li>next(iterator[, default]) 返回迭代器的下一个项目。iterator表示可迭代对象，default — 可选，用于设置在没有下一个元素时返回该默认值，如果不设置，又没有下一个元素则会触发 StopIteration 异常。</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">links = &#123;<span class="string">&#x27;B&#x27;</span>: <span class="string">&#x27;百度&#x27;</span>, <span class="string">&#x27;A&#x27;</span>: <span class="string">&#x27;阿里&#x27;</span>, <span class="string">&#x27;T&#x27;</span>: <span class="string">&#x27;腾讯&#x27;</span>&#125;</span><br><span class="line">it = <span class="built_in">iter</span>(links)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(it))  <span class="comment"># B</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(it))  <span class="comment"># A</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(it))  <span class="comment"># T</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(it))  <span class="comment"># StopIteration</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        each = <span class="built_in">next</span>(it)</span><br><span class="line">    <span class="keyword">except</span> StopIteration:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="built_in">print</span>(each)</span><br><span class="line"></span><br><span class="line"><span class="comment"># B</span></span><br><span class="line"><span class="comment"># A</span></span><br><span class="line"><span class="comment"># T</span></span><br></pre></td></tr></table></figure>
<p>把一个类作为一个迭代器使用需要在类中实现两个魔法方法 <strong>iter\</strong>() 与 <strong>next\</strong>() 。</p>
<p>把一个类作为一个迭代器使用需要在类中实现两个魔法方法 <strong>iter</strong>() 与 <strong>next</strong>() 。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">__iter__(self)定义当迭代容器中的元素的行为，返回一个特殊的迭代器对象， 这个迭代器对象实现了</span><br><span class="line">__next__() 方法并通过 StopIteration 异常标识迭代的完成。</span><br><span class="line"> </span><br><span class="line">__next__() 返回下一个迭代器对象。</span><br><span class="line"></span><br><span class="line">StopIteration 异常用于标识迭代的完成，防止出现无限循环的情况，在 __next__() 方法中</span><br><span class="line">我们可以设置在完成指定循环次数后触发 StopIteration 异常来结束迭代。</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Fibs</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, n=<span class="number">10</span></span>):</span></span><br><span class="line">        self.a = <span class="number">0</span></span><br><span class="line">        self.b = <span class="number">1</span></span><br><span class="line">        self.n = n</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__next__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.a, self.b = self.b, self.a + self.b</span><br><span class="line">        <span class="keyword">if</span> self.a &gt; self.n:</span><br><span class="line">            <span class="keyword">raise</span> StopIteration</span><br><span class="line">        <span class="keyword">return</span> self.a</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fibs = Fibs(<span class="number">100</span>)</span><br><span class="line"><span class="keyword">for</span> each <span class="keyword">in</span> fibs:</span><br><span class="line">    <span class="built_in">print</span>(each, end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1 1 2 3 5 8 13 21 34 55 89</span></span><br></pre></td></tr></table></figure>
<h3 id="1-4-扩展知识点"><a href="#1-4-扩展知识点" class="headerlink" title="1.4 扩展知识点"></a>1.4 扩展知识点</h3><h4 id="1-4-1-组合"><a href="#1-4-1-组合" class="headerlink" title="1.4.1 组合"></a>1.4.1 组合</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Turtle</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, x</span>):</span></span><br><span class="line">        self.num = x</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Fish</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, x</span>):</span></span><br><span class="line">        self.num = x</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pool</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, x, y</span>):</span></span><br><span class="line">        self.turtle = Turtle(x)</span><br><span class="line">        self.fish = Fish(y)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">print_num</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;水池里面有乌龟%s只，小鱼%s条&quot;</span> % (self.turtle.num, self.fish.num))</span><br><span class="line">        </span><br><span class="line">p = Pool(<span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">p.print_num()</span><br><span class="line"><span class="comment"># 水池里面有乌龟2只，小鱼3条</span></span><br></pre></td></tr></table></figure>
<h4 id="1-4-2类的专有方法和内置函数"><a href="#1-4-2类的专有方法和内置函数" class="headerlink" title="1.4.2类的专有方法和内置函数"></a>1.4.2类的专有方法和内置函数</h4><p>具体见<a target="_blank" rel="noopener" href="https://github.com/datawhalechina/team-learning-program/blob/master/PythonLanguage/13.%20%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1.md">《datawhale——PythonLanguage》</a><br>类的专有方法：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">__init__ : 构造函数，在生成对象时调用</span><br><span class="line">__del__ : 析构函数，释放对象时使用</span><br><span class="line">__repr__ : 打印，转换</span><br><span class="line">__setitem__ : 按照索引赋值</span><br><span class="line">__getitem__: 按照索引获取值</span><br><span class="line">__len__: 获得长度</span><br><span class="line">__call__: 函数调用</span><br></pre></td></tr></table></figure>
<p>内置函数：</p>
<ul>
<li>issubclass(class, classinfo) 方法用于判断参数 class 是否是类型参数 classinfo 的子类。一个类被认为是其自身的子类。</li>
<li>isinstance(object, classinfo) 方法用于判断一个对象是否是一个已知的类型，类似type()。</li>
<li>hasattr(object, name)用于判断对象是否包含对应的属性。</li>
<li>getattr(object, name[, default])用于返回一个对象属性值。</li>
<li>setattr(object, name, value)对应函数 getattr()，用于设置属性值，该属性不一定是存在的。</li>
<li>delattr(object, name)用于删除属性。</li>
<li>class property([fget[, fset[, fdel[, doc]]]])用于在新式类中返回属性值</li>
</ul>
<h2 id="二、-基础函数"><a href="#二、-基础函数" class="headerlink" title="二、 基础函数"></a>二、 基础函数</h2><h3 id="2-1-Python5个内建高阶函数（map、reduce、filter、sorted-sort、zip）"><a href="#2-1-Python5个内建高阶函数（map、reduce、filter、sorted-sort、zip）" class="headerlink" title="2.1 Python5个内建高阶函数（map、reduce、filter、sorted/sort、zip）"></a>2.1 Python5个内建高阶函数（map、reduce、filter、sorted/sort、zip）</h3><p>参考<a target="_blank" rel="noopener" href="https://github.com/datawhalechina/team-learning-program/blob/master/PythonLanguage/Python%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93.md">《PythonLanguage/Python高阶函数使用总结.md》</a><br><img src="https://img-blog.csdnimg.cn/f2c08f549cb548b796f96222c0154e55.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA56We5rSb5Y2O,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/98622336d11f4aedba819c9ee2232977.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA56We5rSb5Y2O,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/afd9fd38372e4851bca74f05444bb3f3.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA56We5rSb5Y2O,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/bd8a8a20a4ab45429a97c0beddef245a.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA56We5rSb5Y2O,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h3 id="2-2-正则表达式"><a href="#2-2-正则表达式" class="headerlink" title="2.2 正则表达式"></a>2.2 正则表达式</h3><p>参考<a target="_blank" rel="noopener" href="https://www.runoob.com/python3/python3-reg-expressions.html">《Python3 正则表达式》</a></p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">zhxnlp</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://zhxnlp.github.io/2021/11/17/10月组队学习——Pytorch/python学习笔记——类与对象、常用函数/">https://zhxnlp.github.io/2021/11/17/10月组队学习——Pytorch/python学习笔记——类与对象、常用函数/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://zhxnlp.github.io">zhxnlpのBlog</a>！</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/python/">python</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2021/11/18/10%E6%9C%88%E7%BB%84%E9%98%9F%E5%AD%A6%E4%B9%A0%E2%80%94%E2%80%94Pytorch/PyTorch%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B02%EF%BC%9Ann.Module%E3%80%81%E4%BC%98%E5%8C%96%E5%99%A8%E3%80%81%E6%A8%A1%E5%9E%8B%E7%9A%84%E4%BF%9D%E5%AD%98%E5%92%8C%E5%8A%A0%E8%BD%BD%E3%80%81TensorBoard/"><i class="fa fa-chevron-left">  </i><span>PyTorch学习笔记2：nn.Module、优化器、模型的保存和加载、TensorBoard</span></a></div><div class="next-post pull-right"><a href="/2021/11/15/CLUENER%20%E7%BB%86%E7%B2%92%E5%BA%A6%E5%91%BD%E5%90%8D%E5%AE%9E%E4%BD%93%E8%AF%86%E5%88%AB/bert_lstm_crf/"><span>命名实体识别——bert_lstm_crf模型</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer class="footer-bg" style="background-image: url(https://img-blog.csdnimg.cn/ffe1f736be4548dc9101388503288e4d.png)"><div class="layout" id="footer"><div class="copyright">&copy;2021 - 2022 By zhxnlp</div><div class="framework-info"><span>驱动 - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.9.0"></script><script src="/js/fancybox.js?version=1.9.0"></script><script src="/js/sidebar.js?version=1.9.0"></script><script src="/js/copy.js?version=1.9.0"></script><script src="/js/fireworks.js?version=1.9.0"></script><script src="/js/transition.js?version=1.9.0"></script><script src="/js/scroll.js?version=1.9.0"></script><script src="/js/head.js?version=1.9.0"></script><script src="/js/search/algolia.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="algolia-search"><div class="search-dialog__title" id="algolia-search-title">Algolia</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>